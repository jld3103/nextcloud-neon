{
    "openapi": "3.0.1",
    "info": {
        "title": "Nextcloud cookbook app",
        "description": "This is the public API definition of the [cookbook app](https://github.com/nextcloud/cookbook) for the [nextcloud server](http://nextcloud.com).\n\nThe total API is separated into two parts:\n- There is the public API part that can be used from 3rd party apps and scripts.\n- There is the internal API that is used only by the web app of the cookbook app. This is described here.\n\nThe internal part is intended only to be used by the internal web app. It uses session based authentication and thus requires a `requesttoken` to protect against CSRF attacks. The generation and updating of these tokens is not part of the app but the regular browser capabilities and the nextcloud web frontend is used here instead.\n\nIn contrast, the External APIs are intended for use by external services. These endpoints require the user credentials to be present in every request. Thus, no session is created and no cookies or similar needs to be handled. Technically, there is a CORS preflight possible but it is not required for the function of the endpoints.\n\nFurther contact can be found on the matrix.org server in the room [#nextcloud-cookbook:matrix.org](https://matrix.to/#/#nextcloud-cookbook:matrix.org) for general questions. Additionally, there is [#nextcloud-cookbook-integration:matrix.org](https://matrix.to/#/#nextcloud-cookbook-integration:matrix.org) for questions related to the API and third party integration. Further information on the different versions can be found in [the API overview page](https://nextcloud.github.io/cookbook/dev/api/index).",
        "license": {
            "name": "AGPL-3",
            "url": "http://www.gnu.org/licenses/agpl-3.0.de.html"
        },
        "version": "0.1.2"
    },
    "servers": [
        {
            "url": "http://localhost:8000/apps/cookbook"
        },
        {
            "url": "{protocol}://{server}",
            "variables": {
                "protocol": {
                    "enum": [
                        "http",
                        "https"
                    ],
                    "default": "https"
                },
                "server": {
                    "default": "example.com"
                }
            }
        }
    ],
    "tags": [
        {
            "name": "Recipes",
            "description": "Everything related to recipes and their usage"
        },
        {
            "name": "Categories",
            "description": "Access to the categories of the recipes"
        },
        {
            "name": "Tags",
            "description": "Access to tags/keywords of recipes"
        },
        {
            "name": "Misc",
            "description": "Other API endpoints"
        }
    ],
    "components": {
        "schemas": {
            "Category": {
                "type": "object",
                "description": "A category",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CategoryInformation"
                    }
                ]
            },
            "CategoryInformation": {
                "type": "object",
                "description": "The very basic information of a category\nPlease note: A category name of `*` indicates the number of recipes with no category associated.",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "The name of the category",
                        "example": "Dinner"
                    },
                    "recipe_count": {
                        "type": "integer",
                        "description": "The number of recipes in the category",
                        "example": 21
                    }
                },
                "required": [
                    "name",
                    "recipe_count"
                ]
            },
            "VisibleInfoBlocks": {
                "type": "object",
                "properties": {
                    "preparation-time": {
                        "type": "boolean",
                        "example": true,
                        "description": "Show the preparation time in UI"
                    },
                    "cooking-time": {
                        "type": "boolean",
                        "example": true,
                        "description": "Show the time required for cooking in the UI"
                    },
                    "total-time": {
                        "type": "boolean",
                        "example": false,
                        "description": "Show the total time required to carry out the complee recipe"
                    },
                    "nutrition-information": {
                        "type": "boolean",
                        "example": true,
                        "description": "Show the nutrition information in the UI"
                    },
                    "tools": {
                        "type": "boolean",
                        "example": false,
                        "description": "Show the list of tools in the UI"
                    }
                }
            },
            "Config": {
                "type": "object",
                "description": "An object describing the configuration of the web app",
                "properties": {
                    "folder": {
                        "type": "string",
                        "example": "/Recipes",
                        "description": "The folder in the user's files that contains the recipes"
                    },
                    "update_interval": {
                        "type": "integer",
                        "example": 10,
                        "description": "The interval between automatic rescans to rebuild the database cache in minutes"
                    },
                    "print_image": {
                        "type": "boolean",
                        "example": true,
                        "description": "True, if the user wished to print the recipe images with the rest of the recipes"
                    },
                    "visibleInfoBlocks": {
                        "$ref": "#/components/schemas/VisibleInfoBlocks"
                    }
                }
            },
            "Error": {
                "type": "object",
                "description": "An error description",
                "properties": {
                    "msg": {
                        "type": "string",
                        "description": "The error message",
                        "example": "Recipe could not be found"
                    },
                    "file": {
                        "type": "string",
                        "description": "The file in which the exception was thrown",
                        "example": "/var/www/custom_apps/cookbook/Service/RecipeService.php"
                    },
                    "line": {
                        "type": "integer",
                        "description": "The line where the exception is thrown",
                        "example": 223
                    }
                }
            },
            "Keyword": {
                "type": "object",
                "description": "An Keyword",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CategoryInformation"
                    }
                ]
            },
            "RecipeStubInformation": {
                "type": "object",
                "description": "The very basic information of a recipe",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "The name of the recipe",
                        "example": "Baked bananas"
                    },
                    "keywords": {
                        "type": "string",
                        "description": "A comma-separated list of recipe keywords, can be empty string",
                        "example": "sweets,fruit",
                        "default": ""
                    },
                    "dateCreated": {
                        "type": "string",
                        "description": "The date the recipe was created in the app",
                        "format": "date-time",
                        "example": "2022-01-02T16:12:41+0000"
                    },
                    "dateModified": {
                        "type": "string",
                        "description": "The date the recipe was modified lastly in the app",
                        "format": "date-time",
                        "example": "2022-01-10T10:02:52+0000"
                    },
                    "imageUrl": {
                        "type": "string",
                        "description": "The URL of the recipe image",
                        "example": "http://example.com/path/to/image.jpg",
                        "default": ""
                    },
                    "imagePlaceholderUrl": {
                        "type": "string",
                        "description": "The URL of the placeholder of the recipe image",
                        "example": "http://example.com/path/to/image_thumb.jpg",
                        "default": ""
                    }
                },
                "required": [
                    "name",
                    "keywords",
                    "imageUrl",
                    "imagePlaceholderUrl",
                    "dateCreated"
                ]
            },
            "RecipeStub": {
                "type": "object",
                "description": "A stub of a recipe with some basic information present",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/RecipeStubInformation"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "recipe_id": {
                                "type": "integer",
                                "description": "The index of the recipe.",
                                "example": 123,
                                "deprecated": true
                            },
                            "id": {
                                "type": "string",
                                "description": "The identifier of the recipe",
                                "example": "1"
                            }
                        },
                        "required": [
                            "recipe_id",
                            "id",
                            "id"
                        ]
                    }
                ]
            },
            "StubList": {
                "type": "array",
                "items": {
                    "$ref": "#/components/schemas/RecipeStub"
                }
            },
            "Tool": {
                "type": "string",
                "example": "Flat and fire-resistent bowl",
                "description": "A single tool for a recipe. A tool is not consumed but only used."
            },
            "Ingredient": {
                "type": "string",
                "example": "100g ripe Bananas",
                "description": "A single ingredient for a recipe"
            },
            "Instruction": {
                "type": "string",
                "example": "Peel the bananas",
                "description": "An instruction step for processing the recipe"
            },
            "Nutrition": {
                "type": "object",
                "properties": {
                    "@type": {
                        "type": "string",
                        "example": "NutritionInformation",
                        "description": "Schema.org object description",
                        "default": "NutritionInformation"
                    },
                    "calories": {
                        "type": "string",
                        "description": "The number of calories for the given amount",
                        "example": "650 kcal"
                    },
                    "carbohydrateContent": {
                        "type": "string",
                        "description": "The number of grams of carbohydrates",
                        "example": "300 g"
                    },
                    "cholesterolContent": {
                        "type": "string",
                        "description": "The number of milligrams of cholesterol",
                        "example": "10 g"
                    },
                    "fatContent": {
                        "type": "string",
                        "description": "The number of grams of fat",
                        "example": "45 g"
                    },
                    "fiberContent": {
                        "type": "string",
                        "description": "The number of grams of fiber",
                        "example": "50 g"
                    },
                    "proteinContent": {
                        "type": "string",
                        "description": "The number of grams of protein",
                        "example": "80 g"
                    },
                    "saturatedFatContent": {
                        "type": "string",
                        "description": "The number of grams of saturated fat",
                        "example": "5 g"
                    },
                    "servingSize": {
                        "type": "string",
                        "description": "The serving size, in terms of the number of volume or mass",
                        "example": "One plate, sufficient for one person as dessert"
                    },
                    "sodiumContent": {
                        "type": "string",
                        "description": "The number of milligrams of sodium",
                        "example": "10 mg"
                    },
                    "sugarContent": {
                        "type": "string",
                        "description": "The number of grams of sugar",
                        "example": "5 g"
                    },
                    "transFatContent": {
                        "type": "string",
                        "description": "The number of grams of trans fat",
                        "example": "10 g"
                    },
                    "unsaturatedFatContent": {
                        "type": "string",
                        "description": "The number of grams of unsaturated fat",
                        "example": "40 g"
                    }
                },
                "required": [
                    "@type"
                ],
                "description": "Nutritional information about the recipe."
            },
            "Recipe": {
                "description": "A recipe according to [schema.org](http://schema.org/Recipe)",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/RecipeStubInformation"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "@type": {
                                "type": "string",
                                "example": "Recipe",
                                "default": "Recipe",
                                "description": "Schema.org object type identifier"
                            },
                            "id": {
                                "type": "string",
                                "description": "The index of the recipe. Note the representation as a string as the representation might change in the future.",
                                "example": "123",
                                "nullable": true
                            },
                            "prepTime": {
                                "type": "string",
                                "nullable": true,
                                "description": "The time required for preparation in ISO8601 format",
                                "example": "PT0H10M"
                            },
                            "cookTime": {
                                "type": "string",
                                "nullable": true,
                                "description": "The time required for cooking in ISO8601 format",
                                "example": "PT1H20M"
                            },
                            "totalTime": {
                                "type": "string",
                                "nullable": true,
                                "description": "The time required for the complete processing in ISO8601 format",
                                "example": "PT1H30M"
                            },
                            "description": {
                                "type": "string",
                                "example": "A very easy way to make children happy",
                                "description": "A description of the recipe or the empty string",
                                "default": ""
                            },
                            "url": {
                                "type": "string",
                                "example": "http://exmaple.com/my-recipe.html",
                                "description": "The URL the recipe was found at or the empty string",
                                "default": ""
                            },
                            "image": {
                                "type": "string",
                                "example": "http://example.com/my-recipe-image.jpeg",
                                "description": "The URL of the original recipe",
                                "default": ""
                            },
                            "recipeYield": {
                                "type": "integer",
                                "example": 4,
                                "description": "Number of servings in recipe",
                                "default": 1
                            },
                            "recipeCategory": {
                                "type": "string",
                                "example": "Dessert",
                                "description": "The category of the recipe",
                                "default": ""
                            },
                            "tool": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Tool"
                                },
                                "description": "A list of objects used (but not consumed) when performing instructions or a direction."
                            },
                            "recipeIngredient": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Ingredient"
                                },
                                "description": "A list of ingredients used in the recipe."
                            },
                            "recipeInstructions": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Instruction"
                                },
                                "description": "An ordered list with steps in making the recipe."
                            },
                            "nutrition": {
                                "$ref": "#/components/schemas/Nutrition",
                                "description": "Nutritional information about the recipe."
                            }
                        },
                        "required": [
                            "id",
                            "prepTime",
                            "cookTime",
                            "totalTime",
                            "description",
                            "url",
                            "recipeYield",
                            "recipeCategory",
                            "tool",
                            "recipeIngredient",
                            "recipeInstructions",
                            "nutrition"
                        ],
                        "additionalProperties": true
                    }
                ],
                "example": {
                    "name": "Baked bananas",
                    "@type": "Recipe",
                    "id": "123",
                    "description": "A very delightful recipe of the best baked bananas ever",
                    "image": "http://example.com/path/to/image.jpg",
                    "recipeYield": 5,
                    "prepTime": "PT0H15M",
                    "cookTime": null,
                    "totalTime": "PT1H20M",
                    "url": "",
                    "tool": [],
                    "recipeIngredient": [
                        "3 ripe bananas",
                        "100g sugar",
                        "20 teaspoons of cinamon"
                    ],
                    "resipeInstructions": [
                        "Peel the bananas",
                        "Dip the bananas in the pot of sugar",
                        "Put the banans in the oven and let the cinamon soak in for 10 minutes",
                        "After 5 hours of baking, they are ready"
                    ],
                    "recipeCategory": "Dessert",
                    "keywords": "banana,cinnamon,sweet,untested recipe",
                    "nutrition": []
                }
            },
            "RecipeList": {
                "type": "array",
                "items": {
                    "$ref": "#/components/schemas/Recipe"
                },
                "example": [
                    {
                        "name": "Baked bananas",
                        "@type": "Recipe",
                        "id": "123",
                        "description": "A very delightful recipe of the best baked bananas ever",
                        "image": "http://example.com/path/to/image.jpg",
                        "recipeYield": 5,
                        "prepTime": "PT0H15M",
                        "recipeIngredient": [
                            "3 ripe bananas",
                            "100g sugar",
                            "20 teaspoons of cinamon"
                        ],
                        "resipeInstructions": [
                            "Peel the bananas",
                            "Dip the bananas in the pot of sugar",
                            "Put the banans in the oven and let the cinamon soak in for 10 minutes",
                            "After 5 hours of baking, they are ready"
                        ],
                        "recipeCategory": "Dessert",
                        "keywords": "banana,cinnamon,sweet,untested recipe"
                    },
                    {
                        "name": "Homemade Apple Butter",
                        "@type": "Recipe",
                        "id": "267",
                        "author": {
                            "@type": "Person",
                            "name": "Julie Clark"
                        },
                        "description": "A simple recipe for Homemade Apple Butter that you can make in the slow cooker. Use as a spread, a syrup or in your fall recipes!",
                        "datePublished": "2016-09-01T01:58:54+00:00",
                        "image": "https://www.tastesoflizzyt.com/wp-content/uploads/2016/08/homemade-apple-butter-2-480x270.jpg",
                        "recipeYield": 20,
                        "prepTime": "PT0H25M",
                        "cookTime": "PT10H0M",
                        "totalTime": "PT10H25M",
                        "recipeIngredient": [
                            "6 1/2 pounds apples (peeled, cored and sliced)",
                            "1/2 cup granulated sugar",
                            "1/2 cup packed brown sugar",
                            "1 1/2 tablespoons ground cinnamon",
                            "1/4 teaspoon salt",
                            "1 tablespoon vanilla extract"
                        ],
                        "recipeInstructions": [
                            "Place the apples in a slow cooker.",
                            "Add the sugars, cinnamon, salt and vanilla to the crockpot. Mix well.",
                            "Cook in slow cooker on low for about 10 hours, stirring every couple hours. The apple butter should be thick and dark brown.",
                            "If desired, use a blender to puree the apple butter until smooth.",
                            "Cover and refrigerate for up to two weeks or freeze in small containers."
                        ],
                        "aggregateRating": {
                            "@type": "AggregateRating",
                            "ratingValue": "4.87",
                            "ratingCount": "38"
                        },
                        "recipeCategory": "Breakfast",
                        "keywords": "apple butter recipes,apple recipes,fall recipes",
                        "nutrition": {
                            "@type": "NutritionInformation",
                            "calories": "120 kcal",
                            "carbohydrateContent": "31 g",
                            "sodiumContent": "32 mg",
                            "fiberContent": "3 g",
                            "sugarContent": "25 g",
                            "servingSize": "1 serving"
                        },
                        "tool": [],
                        "url": "https://www.tastesoflizzyt.com/homemade-apple-butter/",
                        "dateModified": "2021-05-23T17:10:25+0000",
                        "dateCreated": "2021-05-23T17:10:25+0000"
                    }
                ]
            },
            "AppVersion": {
                "type": "array",
                "items": {
                    "type": "object"
                },
                "minItems": 4,
                "maxItems": 4,
                "description": "The installed release of the cookbook app",
                "example": [
                    0,
                    9,
                    14,
                    "-rc1"
                ]
            },
            "APIVersion": {
                "type": "object",
                "properties": {
                    "epoch": {
                        "type": "integer",
                        "description": "An epoch to cope with bad API versions"
                    },
                    "major": {
                        "type": "integer",
                        "description": "The major number of the API"
                    },
                    "minor": {
                        "type": "integer",
                        "description": "The minor number of the API"
                    }
                },
                "required": [
                    "epoch",
                    "major",
                    "minor"
                ],
                "example": {
                    "epoch": 0,
                    "major": 1,
                    "minor": 3
                }
            },
            "Url": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "http://www.chefkoch.de/2345"
                    }
                },
                "required": [
                    "url"
                ]
            },
            "Version": {
                "type": "object",
                "properties": {
                    "cookbook_version": {
                        "$ref": "#/components/schemas/AppVersion"
                    },
                    "api_version": {
                        "$ref": "#/components/schemas/APIVersion"
                    }
                }
            }
        },
        "securitySchemes": {
            "app_password": {
                "type": "http",
                "scheme": "basic",
                "description": "Use username and app password"
            }
        }
    },
    "security": [
        {
            "app_password": []
        }
    ],
    "paths": {
        "/index.php/apps/cookbook/api/version": {
            "get": {
                "tags": [
                    "Misc"
                ],
                "summary": "Get the version of the API endpoint",
                "operationId": "version",
                "responses": {
                    "200": {
                        "description": "API version",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Version"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/reindex": {
            "post": {
                "tags": [
                    "Misc"
                ],
                "summary": "Trigger a rescan of all recipes into the caching database",
                "operationId": "reindex",
                "responses": {
                    "200": {
                        "description": "The reindex process was done.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "Search index rebuilt successfully"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/config": {
            "get": {
                "tags": [
                    "Misc"
                ],
                "summary": "Get the current configuration of the app",
                "operationId": "getConfig",
                "responses": {
                    "200": {
                        "description": "The config was read successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Config"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Misc"
                ],
                "summary": "Set the configuration for the current user",
                "operationId": "setConfig",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Config"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The configuration was successfully saved.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "OK"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/import": {
            "post": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Import a recipe using schema.org metadata from a website",
                "operationId": "import",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Url"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully imported recipe",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Recipe"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "The URL to be imported was not inserted in the request or any other issue was rosen.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "Field \"url\" is required"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "There exists a recipe with that name already. Import was aborted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/recipes/{id}/image": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get the main image of a recipe. If no image is stored a fallback image is delivered.",
                "operationId": "getImage",
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "The id of the recipe to obtain the image for.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "size",
                        "description": "The size of the requested image\n* `full`    - Full resolution image (size full res) * `thumb`   - thumbnail of the image (size 250px) * `thumb16` - icon of the image (size 16px)\nby default the full size image will be returned\n",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "full",
                                "thumb",
                                "thumb16"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image was obtained and will be in response either as image/jpeg or image/svg+xml",
                        "content": {
                            "image/jpeg": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            },
                            "image/svg+xml": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "406": {
                        "description": "The recipe has no image whose MIME type matches the Accept header"
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/search/{query}": {
            "parameters": [
                {
                    "in": "path",
                    "name": "query",
                    "required": true,
                    "description": "The search string, urlencoded, separated with spaces and/or commas",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Search for recipes for keywords, tags and categories with the named search string",
                "operationId": "search",
                "responses": {
                    "200": {
                        "description": "The recipes were obtained successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StubList"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "An error has been thrown",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "The error message"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/recipes": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get all recipes in the database",
                "operationId": "listRecipes",
                "responses": {
                    "200": {
                        "description": "Successfully obtained all recipes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StubList"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Create a new recipe",
                "operationId": "newRecipe",
                "requestBody": {
                    "description": "A JSON representation of the recipe to be saved.\n\nSee also the structure at https://schema.org/Recipe\n",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Recipe",
                                "example": {
                                    "name": "Chips",
                                    "description": "A very delicious way of getting kids quiet",
                                    "ingredients": [
                                        "1 pack of pre-fried chips"
                                    ],
                                    "tools": [
                                        "common oven"
                                    ],
                                    "instructions": [
                                        "Put the chips in the oven",
                                        "Wait until the are due"
                                    ]
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully created new recipe",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "example": 2462,
                                    "description": "The id of the newly created recipe"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "A recipe with the name was already found on the server. No recipe is created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "There was no name in the request given for the recipe. Cannot save the recipe.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/recipes/{id}": {
            "parameters": [
                {
                    "in": "path",
                    "name": "id",
                    "required": true,
                    "description": "The id of the recipe",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get a single recipe from the server",
                "operationId": "recipeDetails",
                "responses": {
                    "200": {
                        "description": "Recipe was sucessfully obtained",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Recipe"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "The given recipe id was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "example": 2345,
                                    "description": "The id of the recipe that was not found"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Update a recipe",
                "operationId": "updateRecipe",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Recipe"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The recipe was sucessfully updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "description": "The id of the updated recipe",
                                    "example": 2345
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "There was no name in the request given for the recipe. Cannot save the recipe.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Delete an existing recipe",
                "operationId": "deleteRecipe",
                "responses": {
                    "200": {
                        "description": "The recipe was deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "Recipe 2345 deleted successfully"
                                }
                            }
                        }
                    },
                    "502": {
                        "description": "An Exception was thrown",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "Recipe with id 2345 was not found.",
                                    "description": "Error message"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/keywords": {
            "get": {
                "tags": [
                    "Tags"
                ],
                "summary": "Get all known keywords",
                "operationId": "listKeywords",
                "responses": {
                    "200": {
                        "description": "Successfully obtained all keywords",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Keyword"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/tags/{keywords}": {
            "get": {
                "tags": [
                    "Tags"
                ],
                "summary": "Get all recipes associated with certain keywords",
                "operationId": "recipesWithKeyword",
                "parameters": [
                    {
                        "in": "path",
                        "name": "keywords",
                        "required": true,
                        "description": "Comma separated list of keywords, urlencoded",
                        "schema": {
                            "type": "string",
                            "example": "vegetarian,sweet"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Recipes were successfully obtained",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StubList"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "An error occured",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "SQLException: Something went wrong."
                                }
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/categories": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Get all known categories",
                "operationId": "listCategories",
                "responses": {
                    "200": {
                        "description": "Sucessfully obtained all categories\n\nPlease note: A category name of `*` indicates the number of recipes with no category associated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Category"
                                    }
                                },
                                "example": [
                                    {
                                        "name": "Dinner",
                                        "recipe_count": 21
                                    },
                                    {
                                        "name": "Lunch",
                                        "recipe_count": 10
                                    },
                                    {
                                        "name": "*",
                                        "recipe_count": 3
                                    }
                                ]
                            }
                        }
                    }
                }
            }
        },
        "/index.php/apps/cookbook/api/v1/category/{category}": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Get all recipes of a certain category",
                "operationId": "recipesInCategory",
                "parameters": [
                    {
                        "in": "path",
                        "name": "category",
                        "required": true,
                        "description": "The name of the category to be queried as urlencoded string\n\nPut the string `_` to obtain all recipes with no category",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The filtered recipes belonging to the category",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StubList"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "An exception was issued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "The error message",
                                    "example": "Could not find category foo."
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Categories"
                ],
                "summary": "Rename a category",
                "operationId": "renameCategory",
                "parameters": [
                    {
                        "in": "path",
                        "name": "category",
                        "required": true,
                        "description": "The name of the category to be queried as urlencoded string\n\nPut the string `_` to obtain all recipes with no category",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Lunch",
                                        "description": "The new name to rename the category to"
                                    }
                                },
                                "required": [
                                    "name"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The category was renamed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "Lunch"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "The new category name was not included during the request."
                    },
                    "500": {
                        "description": "The renaming did not succeed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "The error message",
                                    "example": "There exists already a category of that name."
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
